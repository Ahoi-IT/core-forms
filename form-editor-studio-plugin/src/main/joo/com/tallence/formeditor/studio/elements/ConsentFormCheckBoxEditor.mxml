<?xml version="1.0" encoding="UTF-8"?>
<local:ConsentFormCheckBoxEditorBase
    xmlns:fx="http://ns.adobe.com/mxml/2009"
    xmlns="exml:ext.config"
    xmlns:fields="exml:com.tallence.formeditor.studio.config"
    xmlns:local="com.tallence.formeditor.studio.elements.*"
    xmlns:editor="exml:com.coremedia.cms.editor.sdk.config" xmlns:container="ext.layout.container.*">

  <fx:Script><![CDATA[
    import com.coremedia.ui.data.ValueExpression;

    public static const xtype:String = "com.tallence.formeditor.studio.elements.consentFormCheckBoxEditor";
    public static const FIELD_TYPE:String = "ConsentFormCheckBox";

    private var config:ConsentFormCheckBoxEditor;

    [Bindable]
    public var bindTo:ValueExpression;

    [Bindable]
    public var forceReadOnlyValueExpression:ValueExpression;

    public native function ConsentFormCheckBoxEditor(config:ConsentFormCheckBoxEditor = null);
    ]]></fx:Script>


  <local:items>
    <Container cls="content">
      <items>
        <fields:TextField fieldLabel="{resourceManager.getString('com.tallence.formeditor.studio.bundles.FormEditor', 'FormEditor_element_name_label')}"
                          emptyText="{resourceManager.getString('com.tallence.formeditor.studio.bundles.FormEditor', 'FormEditor_element_name_emptyText')}"
                          formElement="{config.formElement}"
                          propertyname="name"
                          bindTo="{config.bindTo}"
                          forceReadOnlyValueExpression="{config.forceReadOnlyValueExpression}"/>

        <fields:TextField fieldLabel="{resourceManager.getString('com.tallence.formeditor.studio.bundles.FormEditor', 'FormEditor_element_hint_label')}"
                          emptyText="{resourceManager.getString('com.tallence.formeditor.studio.bundles.FormEditor', 'FormEditor_element_hint_linkTarget_label')}"
                          formElement="{config.formElement}"
                          propertyname="hint"
                          bindTo="{config.bindTo}"
                          forceReadOnlyValueExpression="{config.forceReadOnlyValueExpression}"/>

        <fields:CheckboxField fieldLabel="{resourceManager.getString('com.tallence.formeditor.studio.bundles.FormEditor', 'FormEditor_element_mandatory_label')}"
                              formElement="{config.formElement}"
                              propertyName="validator.mandatory"
                              defaultValue="false"
                              bindTo="{config.bindTo}"
                              forceReadOnlyValueExpression="{config.forceReadOnlyValueExpression}"/>
        <!--The SingleLinkEditor needs to be wrapped in a container with AnchorLayout to be displayed correctly-->
        <Container>
          <items>
            <editor:SingleLinkEditor linkContentType="CMTeasable"
                                     bindTo="{getLinkTargetVE(config.formElement)}"
                                     margin="10 0 0 0"
                                     width="100%"
                                     linkListLabel="{resourceManager.getString('com.tallence.formeditor.studio.bundles.FormEditor', 'FormEditor_element_linkTarget_label')}">
              <editor:plugins>
                <editor:BindDisablePlugin bindTo="{config.bindTo}"
                                          forceReadOnlyValueExpression="{config.forceReadOnlyValueExpression}"/>
              </editor:plugins>
            </editor:SingleLinkEditor>
          </items>
          <layout>
            <container:AnchorLayout/>
          </layout>
        </Container>


      </items>
    </Container>
  </local:items>
</local:ConsentFormCheckBoxEditorBase>